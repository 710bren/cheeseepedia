+++
title = "Layton Bit Stripper"
draft = false
tags = ["Merchandise"]
date = "2024-05-21"

[Article]
startDate = ""
endDate = ""
pageThumbnailFile = "Layton_Bit_Stripper_-_Green_PCB.avif"
contributors = ["Himitsu","Ls2018-1","2603:6011:AC00:A50:D87E:6765:9A50:675","Mr.Noodles","The 64th Gamer","CECMentor"]
+++


The <b><i>Layton Bit Stripper</b></i> is an animatronic character controller designed by Layton Sanders in 2018 and available for purchase from [Creative Engineering]({{< ref "wiki/Creative Engineering.html" >}}) beginning in 2019. 

The controller accepts standard Pianocorder format biphase data as input and can drive any [Rock-afire Explosion]({{< ref "wiki/Rock-afire Explosion.html" >}}) character, with data passthrough to controllers for additional characters. A movement test feature is also available. 30 LEDs show power, per-channel output status, and data sync. The Layton Bit Stripper is comprised of a custom PCB and off-the-shelf power supplies and outer enclosure.

As of August 10, 2022, the Layton Bit Stripper is temporarily unavailable for sale due to unavailable parts resulting from the ongoing semiconductor shortage. 

<h2> PCB revisions </h2>

Three revisions of the Layton Bit Stripper exist:
* <b>Rev. A</b> - Green PCB, no bypass switch, no expansion port, unpopulated 5V regulator footprint, no external buttons, individual LED resistors, different output drivers than future revisions, never publicly revealed due to functional problems
* <b>Rev. A.1</b> - Green PCB, no bypass switch, no expansion port, unpopulated 5V regulator footprint, no external buttons, individual LED resistors
* <b>Rev. A.2</b> - Red PCB, waveshaper bypass switch, 12-pin expansion port footprint, requires both 5V and 24V supplies, two external buttons, resistor networks for LEDs

<h2> Software revisions </h2>

There are five public software revisions for the Layton Bit Stripper:

* <b>Bitstripper V1.0</b> - Initial release, lacking movement diagnostic external button support, only used in experimental Rev A boards and the first five Rev. A.1 boards
* <b>Bitstripper V1.1</b> - Identical to previous release with the addition of diagnostic button support
* <b>Bitstripper V1.1B</b> - Fixed a previously undetected bug which caused outputs to be updated 600 microseconds later than they should be
* <b>Bitstripper V1.1C</b> - Increased the movement diagnostic cycle time to allow longer stroke movements to fully extend and retract
* <b>Bitstripper V1.1D</b> - Fixed a previously undetected bug which erroneously mapped Dook’s right head turn movement to his right elbow bit. Current release as of August 10, 2022.

There are two custom code versions designed for special applications:

* <b>Dook2.0 V1.1D</b> - Designed to control second generation Dook. Code is identical to Bitstripper V1.1D, but DIP switch settings have been modified. DIP switch setting 00001 sets the bit stripper to output bits for valves 1-16 and DIP switch setting 00010 sets the bit stripper to output bits for valves 17-32. All other DIP switch settings disable output bits. Identical or very similar movements from first generation Dook are mapped to their corresponding movements on second generation Dook for maximum backwards compatibility. New movements are mapped to previously unusued bits in the data stream.
* <b>Shavers V1.1D</b> - Designed to operate the Four Little Shavers, owned by [[Volo Museum|Volo Auto Museum]] as of August 10, 2022. Based on Bitstripper 1.1D but has shorter data frames than standard Pianocorder data with only 24 control bits and a different synchronization system. When using movement diagnostic buttons, Curly’s right elbow and right arm twist always actuate at the same time because of the potential of his mirror hitting and damaging his nose if the arm is kept retracted when the arm twist actuates.

<h2> Hardware </h2>

<h2>= I/O </h2>=
* Permanently-attached AC power cord
* 2x Transformer Based AC to DC power adapters. (One for 5v, One for 24v)
* Data input (RCA jack)
* Data output (RCA jack)
* Character output connector (TODO: centronics something-or-other)
* 2x momentary pushbuttons (bit test select, bit pulse)
* 30 LEDs (arranged in 3x 10-LED bargraphs)
* 5 DIP switch (character select)
* 12-pin expansion footprint

<h2>= Hardware breakdown </h2>=
* ATmega328 MCU (presumed, covered by sticker)
* 3x 74HC595 (serial to parallel)
* 6x SN75437A (output drivers)
* TODO: unknown audio interface components

<h2>= Character select DIP switch settings </h2>=
{| class='wikitable'
|-
! Switch setting !! Name !! # of bits
|-
| 00000 || Disable bitstripper || 0
|-
| 00001 || Rolfe and Earl || 22
|-
| 00010 || Dook || 17
|-
| 00011 || Fatz || 16
|-
| 00100 || Organ and Sign || 14
|-
| 00101 || Spots || 8
|-
| 00110 || Curtains || 6
|-
| 00111 || Spots and Curtains || 14
|-
| 01000 || Props || 8
|-
| 01001 || Beach Bear || 16
|-
| 01010 || Looney Bird || 6
|-
| 01011 || Mitzi || 19
|-
| 01100 || Billy Bob || 20
|-
| 01101 || Floods || 12
|-
| 01110 || Specials || 3
|-
| 01111 || Stage lights || 19
|-
| 1xxxx || Future use || -
|}