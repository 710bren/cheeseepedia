<div style="display: flex; justify-content: center; align-items: center;">
    <img src="/UI/CEPLogo.png" alt="Logo" style="max-height: 6.5vw;">
</div>
{{ $contributorCounts := dict }} <!-- Initialize an empty dictionary to store contributor counts -->

{{ range .Site.RegularPages }} <!-- Loop through all regular pages (articles) -->
  {{ with .Params.article.contributors }} <!-- Check if the article has contributors -->
    {{ range . }} <!-- Loop through each contributor -->
      {{ if not (index $contributorCounts .) }} <!-- If the contributor is not already in the dictionary -->
        {{ $contributorCounts = merge $contributorCounts (dict . 1) }} <!-- Add the contributor with a count of 1 -->
      {{ else }}
        {{ $contributorCounts = merge $contributorCounts (dict . (add (index $contributorCounts .) 1)) }} <!-- Increment the count -->
      {{ end }}
    {{ end }}
  {{ end }}
{{ end }}

<!-- Convert the dictionary to a slice for sorting -->
{{ $sortedContributors := slice }}
{{ range $key, $value := $contributorCounts }}
  {{ $sortedContributors = $sortedContributors | append (dict "name" $key "count" $value) }}
{{ end }}

<!-- Sort the slice by count in descending order -->
{{ $sortedContributors = sort $sortedContributors "count" "desc" }}

<!-- Count of unique contributors -->
{{ $contributorCount := len $sortedContributors }}

<Center><h3>Now at <strong>{{ len .Site.RegularPages }}</strong> articles contributed by <strong>{{ $contributorCount }}</strong> users.</h3></Center>

{{ partial "menu.html" (dict "menuID" "main" "page" .) }}